<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.group5.xing.ke.web.api.dao.LineDao">

    <select id="select" resultType="LineDTO">
  SELECT

    c.feature As "feature",
    c.pic As "pic",
    b.city As "firstCity",
    e.categoryname As "categoryname",
    f.pid,
    f.title,
    f.price,
    f.person,
    f.deptime,
    f.backtime
    FROM tb_line AS a, tb_city AS b, feature_port AS c , tb_categoryfeature AS e, tb_product AS f
    WHERE  b.id = c.city_id AND b.id = c.city_id AND a.feature1_id = c.feature_id AND f.categoryId=e.categoryid
    AND f.pid=#{pid}
</select>

    <select id="getTbLine" resultType="TbLine">
        SELECT
            feature1_id,
            feature2_id,
            feature3_id,
            feature4_id,
            feature5_id,
            feature6_id,
            feature7_id,
            feature8_id
         FROM tb_line WHERE line_id=#{pid}
    </select>

    <select id="selectByDesc" resultType="DescDTO">
    SELECT
    a.food,
    a.accommodation,
    a.trip,
    b.pic As "featurepic",
    c.city As "city"
    FROM tb_desc As a,
    feature_port As b,
    tb_city As c
    WHERE
    a.feature_id=b.feature_id
    AND
    a.cityid=c.id
    AND
    b.feature_id=#{featureId}
    </select>

</mapper>